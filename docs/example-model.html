<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Example Model | Quality of Location - developing a new pitch metric</title>
  <meta name="description" content="Chapter 3 Example Model | Quality of Location - developing a new pitch metric" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Example Model | Quality of Location - developing a new pitch metric" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Example Model | Quality of Location - developing a new pitch metric" />
  
  
  

<meta name="author" content="Doug Rose" />


<meta name="date" content="2023-12-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loading-cleaning-validating-transforming.html"/>
<link rel="next" href="functions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Pitch Location Quality Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#project-overview"><i class="fa fa-check"></i><b>1.1</b> Project Overview</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html"><i class="fa fa-check"></i><b>2</b> Loading, Cleaning, Validating, Transforming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#loading-dataset"><i class="fa fa-check"></i><b>2.1</b> Loading Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#explain-variables-of-interest"><i class="fa fa-check"></i><b>2.2</b> Explain Variables of Interest</a></li>
<li class="chapter" data-level="2.3" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#create-new-variables"><i class="fa fa-check"></i><b>2.3</b> Create New Variables</a></li>
<li class="chapter" data-level="2.4" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#validating-count-handedness-game-year"><i class="fa fa-check"></i><b>2.4</b> Validating Count, Handedness, Game Year</a></li>
<li class="chapter" data-level="2.5" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#remove-and-transform-event-values"><i class="fa fa-check"></i><b>2.5</b> Remove and Transform Event Values</a></li>
<li class="chapter" data-level="2.6" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#event-outcome-frequency-by-count"><i class="fa fa-check"></i><b>2.6</b> Event Outcome Frequency by Count</a></li>
<li class="chapter" data-level="2.7" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#average-delta-run-expectancy"><i class="fa fa-check"></i><b>2.7</b> Average Delta Run Expectancy</a></li>
<li class="chapter" data-level="2.8" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#join-lookup-table-to-data-set"><i class="fa fa-check"></i><b>2.8</b> Join Lookup Table to Data Set</a></li>
<li class="chapter" data-level="2.9" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#addressing-pitch-types"><i class="fa fa-check"></i><b>2.9</b> Addressing Pitch Types</a></li>
<li class="chapter" data-level="2.10" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#cleaning-pitch-locations"><i class="fa fa-check"></i><b>2.10</b> Cleaning Pitch Locations</a></li>
<li class="chapter" data-level="2.11" data-path="loading-cleaning-validating-transforming.html"><a href="loading-cleaning-validating-transforming.html#count-of-all-observations"><i class="fa fa-check"></i><b>2.11</b> Count of All Observations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="example-model.html"><a href="example-model.html"><i class="fa fa-check"></i><b>3</b> Example Model</a>
<ul>
<li class="chapter" data-level="3.1" data-path="example-model.html"><a href="example-model.html#scatterplot-of-example-data"><i class="fa fa-check"></i><b>3.1</b> Scatterplot of Example Data</a></li>
<li class="chapter" data-level="3.2" data-path="example-model.html"><a href="example-model.html#scatterplot-of-example-data-filtered"><i class="fa fa-check"></i><b>3.2</b> Scatterplot of Example Data Filtered</a></li>
<li class="chapter" data-level="3.3" data-path="example-model.html"><a href="example-model.html#create-grid"><i class="fa fa-check"></i><b>3.3</b> Create Grid</a></li>
<li class="chapter" data-level="3.4" data-path="example-model.html"><a href="example-model.html#apply-game-results-to-grid"><i class="fa fa-check"></i><b>3.4</b> Apply Game Results to Grid</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#function-1"><i class="fa fa-check"></i><b>4.1</b> Function 1</a></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#function-2"><i class="fa fa-check"></i><b>4.2</b> Function 2</a></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#function-3"><i class="fa fa-check"></i><b>4.3</b> Function 3</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applying-functions.html"><a href="applying-functions.html"><i class="fa fa-check"></i><b>5</b> Applying Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applying-functions.html"><a href="applying-functions.html#create-data-frames"><i class="fa fa-check"></i><b>5.1</b> Create Data Frames</a></li>
<li class="chapter" data-level="5.2" data-path="applying-functions.html"><a href="applying-functions.html#create-plots"><i class="fa fa-check"></i><b>5.2</b> Create Plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualizing-resulting-plots.html"><a href="visualizing-resulting-plots.html"><i class="fa fa-check"></i><b>6</b> Visualizing Resulting Plots</a>
<ul>
<li class="chapter" data-level="6.1" data-path="visualizing-resulting-plots.html"><a href="visualizing-resulting-plots.html#plot-outputs"><i class="fa fa-check"></i><b>6.1</b> Plot Outputs</a></li>
<li class="chapter" data-level="6.2" data-path="visualizing-resulting-plots.html"><a href="visualizing-resulting-plots.html#compile-results-into-1-lookup-table"><i class="fa fa-check"></i><b>6.2</b> Compile Results into 1 Lookup Table</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="applying-results-to-2023-season.html"><a href="applying-results-to-2023-season.html"><i class="fa fa-check"></i><b>7</b> Applying Results to 2023 Season</a>
<ul>
<li class="chapter" data-level="7.1" data-path="applying-results-to-2023-season.html"><a href="applying-results-to-2023-season.html#cleaning-2023-dataset"><i class="fa fa-check"></i><b>7.1</b> Cleaning 2023 Dataset</a></li>
<li class="chapter" data-level="7.2" data-path="applying-results-to-2023-season.html"><a href="applying-results-to-2023-season.html#location-quality-by-pitch-type"><i class="fa fa-check"></i><b>7.2</b> Location Quality by Pitch Type</a></li>
<li class="chapter" data-level="7.3" data-path="applying-results-to-2023-season.html"><a href="applying-results-to-2023-season.html#location-quality-by-count"><i class="fa fa-check"></i><b>7.3</b> Location Quality by Count</a></li>
<li class="chapter" data-level="7.4" data-path="applying-results-to-2023-season.html"><a href="applying-results-to-2023-season.html#final-cleaning"><i class="fa fa-check"></i><b>7.4</b> Final Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="shiny-dashbaord.html"><a href="shiny-dashbaord.html"><i class="fa fa-check"></i><b>8</b> Shiny Dashbaord</a></li>
<li class="chapter" data-level="9" data-path="project-takeaways-and-limitations.html"><a href="project-takeaways-and-limitations.html"><i class="fa fa-check"></i><b>9</b> Project Takeaways and Limitations</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quality of Location - developing a new pitch metric</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example-model" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Example Model<a href="example-model.html#example-model" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="scatterplot-of-example-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Scatterplot of Example Data<a href="example-model.html#scatterplot-of-example-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now I’ll highlight a specific pitch type thrown in a specific count by a specific combination of batter/pitcher handedness. This plot accounts for all recorded sliders thrown by RHP to RHB in 2-2 counts. The red rectangle signifies the strikezone for reference.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="example-model.html#cb40-1" tabindex="-1"></a>count_df <span class="ot">&lt;-</span> mlbraw2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(count <span class="sc">==</span> <span class="st">&quot;2-2&quot;</span>)</span>
<span id="cb40-2"><a href="example-model.html#cb40-2" tabindex="-1"></a>hand_pitch_df <span class="ot">&lt;-</span> mlbraw2 <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="example-model.html#cb40-3" tabindex="-1"></a>  <span class="fu">filter</span>(hand <span class="sc">==</span> <span class="st">&quot;RvR&quot;</span>, pitch_type <span class="sc">==</span> <span class="st">&quot;SL&quot;</span>)</span>
<span id="cb40-4"><a href="example-model.html#cb40-4" tabindex="-1"></a>hand_pitch_count_df <span class="ot">&lt;-</span> mlbraw2 <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="example-model.html#cb40-5" tabindex="-1"></a>  <span class="fu">filter</span>(hand <span class="sc">==</span> <span class="st">&quot;RvR&quot;</span>, pitch_type <span class="sc">==</span> <span class="st">&quot;SL&quot;</span>, count <span class="sc">==</span> <span class="st">&quot;2-2&quot;</span>)</span>
<span id="cb40-6"><a href="example-model.html#cb40-6" tabindex="-1"></a>hand_count_df <span class="ot">&lt;-</span> mlbraw2 <span class="sc">%&gt;%</span> </span>
<span id="cb40-7"><a href="example-model.html#cb40-7" tabindex="-1"></a>  <span class="fu">filter</span>(hand <span class="sc">==</span> <span class="st">&quot;RvR&quot;</span>, count <span class="sc">==</span> <span class="st">&quot;2-2&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="example-model.html#cb41-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> hand_pitch_count_df <span class="sc">%&gt;%</span> <span class="fu">count</span>() <span class="sc">%&gt;%</span> <span class="fu">as_vector</span>()</span>
<span id="cb41-2"><a href="example-model.html#cb41-2" tabindex="-1"></a></span>
<span id="cb41-3"><a href="example-model.html#cb41-3" tabindex="-1"></a><span class="cf">if</span> (n <span class="sc">&gt;</span> <span class="dv">20000</span>) {</span>
<span id="cb41-4"><a href="example-model.html#cb41-4" tabindex="-1"></a>  hand_pitch_count_df <span class="ot">&lt;-</span> hand_pitch_count_df <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">20000</span>)</span>
<span id="cb41-5"><a href="example-model.html#cb41-5" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb41-6"><a href="example-model.html#cb41-6" tabindex="-1"></a>  hand_pitch_count_df</span>
<span id="cb41-7"><a href="example-model.html#cb41-7" tabindex="-1"></a>}</span>
<span id="cb41-8"><a href="example-model.html#cb41-8" tabindex="-1"></a></span>
<span id="cb41-9"><a href="example-model.html#cb41-9" tabindex="-1"></a><span class="fu">rm</span>(n)</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="example-model.html#cb42-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb42-2"><a href="example-model.html#cb42-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> hand_pitch_count_df, </span>
<span id="cb42-3"><a href="example-model.html#cb42-3" tabindex="-1"></a>             <span class="fu">aes</span>(x,y), <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">alpha=</span><span class="fl">0.2</span>, </span>
<span id="cb42-4"><a href="example-model.html#cb42-4" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb42-5"><a href="example-model.html#cb42-5" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">ymax =</span> <span class="fl">3.50</span>, <span class="at">ymin =</span> <span class="fl">1.5</span>, </span>
<span id="cb42-6"><a href="example-model.html#cb42-6" tabindex="-1"></a>                <span class="at">xmax =</span> <span class="fl">0.83</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="fl">0.83</span>),</span>
<span id="cb42-7"><a href="example-model.html#cb42-7" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">linewidth=</span><span class="fl">0.5</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-8"><a href="example-model.html#cb42-8" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;RvR SL 2-2&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-9"><a href="example-model.html#cb42-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb42-10"><a href="example-model.html#cb42-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb42-11"><a href="example-model.html#cb42-11" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb42-12"><a href="example-model.html#cb42-12" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb42-13"><a href="example-model.html#cb42-13" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb42-14"><a href="example-model.html#cb42-14" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="sc">-</span><span class="dv">4</span>,<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb42-15"><a href="example-model.html#cb42-15" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="fl">6.5</span>)<span class="sc">+</span></span>
<span id="cb42-16"><a href="example-model.html#cb42-16" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/example%20plot%20all-1.png" width="672" style="display: block; margin: auto auto auto 0;" /></p>
<p>This plot accounts for all 50,909 recorded sliders thrown by RHP to RHB in 2-2 counts from 2014-2023. The blue rectangle represents the strike zone for reference. The goal here is to use these location points along with run expectancy change associated with the event outcome to tell us where the best and worst possible pitch locations are for pitches thrown under these conditions.</p>
<p>A challenge presenting itself here is that clearly these pitches are concentrated in certain regions. An oval shape forms centered in the bottom right corner of the strike zone and the further it expands outward the less observations there are.</p>
<p>In some areas of this plot the observations are so infrequent that attempting to model a smooth doesn’t work. So instead of using the whole region to fit a model, we can limit the region to just areas in a higher concentration of observations eliminating pitch outlier regions.</p>
</div>
<div id="scatterplot-of-example-data-filtered" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Scatterplot of Example Data Filtered<a href="example-model.html#scatterplot-of-example-data-filtered" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is the same plot, but eliminating the top 1% outlier points.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="example-model.html#cb43-1" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="fl">0.01</span>), <span class="at">y =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">6</span>, <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="example-model.html#cb43-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x=</span><span class="fu">round</span>(x,<span class="dv">2</span>), <span class="at">y=</span><span class="fu">round</span>(y,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="example-model.html#cb43-3" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb43-4"><a href="example-model.html#cb43-4" tabindex="-1"></a>  </span>
<span id="cb43-5"><a href="example-model.html#cb43-5" tabindex="-1"></a>gf <span class="ot">&lt;-</span> <span class="fu">gam</span>(re <span class="sc">~</span> <span class="fu">s</span>(x, y), <span class="at">data =</span> hand_pitch_df)</span>
<span id="cb43-6"><a href="example-model.html#cb43-6" tabindex="-1"></a>  </span>
<span id="cb43-7"><a href="example-model.html#cb43-7" tabindex="-1"></a>gfa <span class="ot">&lt;-</span> gf <span class="sc">%&gt;%</span> <span class="fu">augment</span>()</span>
<span id="cb43-8"><a href="example-model.html#cb43-8" tabindex="-1"></a>  </span>
<span id="cb43-9"><a href="example-model.html#cb43-9" tabindex="-1"></a>gfa99 <span class="ot">&lt;-</span> gfa <span class="sc">%&gt;%</span> </span>
<span id="cb43-10"><a href="example-model.html#cb43-10" tabindex="-1"></a>  <span class="fu">filter</span>(.hat <span class="sc">&lt;=</span> <span class="fu">quantile</span>(gfa<span class="sc">$</span>.hat, <span class="fl">0.99</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="example-model.html#cb43-11" tabindex="-1"></a>  <span class="fu">select</span>(x, y)</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="example-model.html#cb44-1" tabindex="-1"></a>hand_pitch_count_df_lim <span class="ot">&lt;-</span> hand_pitch_count_df <span class="sc">%&gt;%</span> <span class="fu">semi_join</span>(gfa99, <span class="fu">join_by</span>(x,y))</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="example-model.html#cb45-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb45-2"><a href="example-model.html#cb45-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> hand_pitch_count_df_lim, <span class="fu">aes</span>(x,y), </span>
<span id="cb45-3"><a href="example-model.html#cb45-3" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">alpha=</span><span class="fl">0.2</span>, <span class="at">show.legend =</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb45-4"><a href="example-model.html#cb45-4" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">ymax =</span> <span class="fl">3.50</span>, <span class="at">ymin =</span> <span class="fl">1.5</span>, <span class="at">xmax =</span> <span class="fl">0.83</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="fl">0.83</span>),</span>
<span id="cb45-5"><a href="example-model.html#cb45-5" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">linewidth=</span><span class="fl">0.5</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb45-6"><a href="example-model.html#cb45-6" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;RvR SL 2-2&quot;</span>) <span class="sc">+</span></span>
<span id="cb45-7"><a href="example-model.html#cb45-7" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb45-8"><a href="example-model.html#cb45-8" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb45-9"><a href="example-model.html#cb45-9" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb45-10"><a href="example-model.html#cb45-10" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb45-11"><a href="example-model.html#cb45-11" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb45-12"><a href="example-model.html#cb45-12" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="sc">-</span><span class="dv">4</span>,<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb45-13"><a href="example-model.html#cb45-13" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="fl">6.5</span>)<span class="sc">+</span></span>
<span id="cb45-14"><a href="example-model.html#cb45-14" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/example%20plot%20limited-1.png" width="672" style="display: block; margin: auto auto auto 0;" /></p>
</div>
<div id="create-grid" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Create Grid<a href="example-model.html#create-grid" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A grid region can be created based on the location of these pitches excluding outlier points. This grid represents the region where 99% of all sliders thrown by RHP to RHB are located.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="example-model.html#cb46-1" tabindex="-1"></a>aa <span class="ot">&lt;-</span> gfa99 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(x) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">ymin=</span><span class="fu">min</span>(y), <span class="at">ymax=</span><span class="fu">max</span>(y))</span>
<span id="cb46-2"><a href="example-model.html#cb46-2" tabindex="-1"></a></span>
<span id="cb46-3"><a href="example-model.html#cb46-3" tabindex="-1"></a>bb <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(g,aa, <span class="fu">join_by</span>(x<span class="sc">==</span>x, y<span class="sc">&gt;=</span>ymin, y<span class="sc">&lt;=</span>ymax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>y) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb46-4"><a href="example-model.html#cb46-4" tabindex="-1"></a></span>
<span id="cb46-5"><a href="example-model.html#cb46-5" tabindex="-1"></a>cc <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(bb, <span class="fu">join_by</span>(x<span class="sc">==</span>x, y<span class="sc">&gt;=</span>ymin, y<span class="sc">&lt;=</span>ymax)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-6"><a href="example-model.html#cb46-6" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ymin), <span class="sc">!</span><span class="fu">is.na</span>(ymax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(x,y)</span>
<span id="cb46-7"><a href="example-model.html#cb46-7" tabindex="-1"></a></span>
<span id="cb46-8"><a href="example-model.html#cb46-8" tabindex="-1"></a>dd <span class="ot">&lt;-</span> cc <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(y) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">xmin=</span><span class="fu">min</span>(x), <span class="at">xmax=</span><span class="fu">max</span>(x))</span>
<span id="cb46-9"><a href="example-model.html#cb46-9" tabindex="-1"></a></span>
<span id="cb46-10"><a href="example-model.html#cb46-10" tabindex="-1"></a>ee <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(g,dd, <span class="fu">join_by</span>(y<span class="sc">==</span>y, x<span class="sc">&gt;=</span>xmin, x<span class="sc">&lt;=</span>xmax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>x) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb46-11"><a href="example-model.html#cb46-11" tabindex="-1"></a></span>
<span id="cb46-12"><a href="example-model.html#cb46-12" tabindex="-1"></a>ff <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(ee, <span class="fu">join_by</span>(y<span class="sc">==</span>y, x<span class="sc">&gt;=</span>xmin, x<span class="sc">&lt;=</span>xmax)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-13"><a href="example-model.html#cb46-13" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(xmin), <span class="sc">!</span><span class="fu">is.na</span>(xmax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(x,y)</span>
<span id="cb46-14"><a href="example-model.html#cb46-14" tabindex="-1"></a></span>
<span id="cb46-15"><a href="example-model.html#cb46-15" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(cc,ff) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb46-16"><a href="example-model.html#cb46-16" tabindex="-1"></a></span>
<span id="cb46-17"><a href="example-model.html#cb46-17" tabindex="-1"></a>aa <span class="ot">&lt;-</span> gg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(x) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">ymin=</span><span class="fu">min</span>(y), <span class="at">ymax=</span><span class="fu">max</span>(y))</span>
<span id="cb46-18"><a href="example-model.html#cb46-18" tabindex="-1"></a></span>
<span id="cb46-19"><a href="example-model.html#cb46-19" tabindex="-1"></a>bb <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(g,aa, <span class="fu">join_by</span>(x<span class="sc">==</span>x, y<span class="sc">&gt;=</span>ymin, y<span class="sc">&lt;=</span>ymax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>y) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb46-20"><a href="example-model.html#cb46-20" tabindex="-1"></a></span>
<span id="cb46-21"><a href="example-model.html#cb46-21" tabindex="-1"></a>cc <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(bb, <span class="fu">join_by</span>(x<span class="sc">==</span>x, y<span class="sc">&gt;=</span>ymin, y<span class="sc">&lt;=</span>ymax)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-22"><a href="example-model.html#cb46-22" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ymin), <span class="sc">!</span><span class="fu">is.na</span>(ymax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(x,y)</span>
<span id="cb46-23"><a href="example-model.html#cb46-23" tabindex="-1"></a></span>
<span id="cb46-24"><a href="example-model.html#cb46-24" tabindex="-1"></a>dd <span class="ot">&lt;-</span> cc <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(y) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">xmin=</span><span class="fu">min</span>(x), <span class="at">xmax=</span><span class="fu">max</span>(x))</span>
<span id="cb46-25"><a href="example-model.html#cb46-25" tabindex="-1"></a></span>
<span id="cb46-26"><a href="example-model.html#cb46-26" tabindex="-1"></a>ee <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(g,dd, <span class="fu">join_by</span>(y<span class="sc">==</span>y, x<span class="sc">&gt;=</span>xmin, x<span class="sc">&lt;=</span>xmax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>x) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb46-27"><a href="example-model.html#cb46-27" tabindex="-1"></a></span>
<span id="cb46-28"><a href="example-model.html#cb46-28" tabindex="-1"></a>ff <span class="ot">&lt;-</span> g <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(ee, <span class="fu">join_by</span>(y<span class="sc">==</span>y, x<span class="sc">&gt;=</span>xmin, x<span class="sc">&lt;=</span>xmax)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-29"><a href="example-model.html#cb46-29" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(xmin), <span class="sc">!</span><span class="fu">is.na</span>(xmax)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(x,y)</span>
<span id="cb46-30"><a href="example-model.html#cb46-30" tabindex="-1"></a></span>
<span id="cb46-31"><a href="example-model.html#cb46-31" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(cc,ff) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="example-model.html#cb47-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-2"><a href="example-model.html#cb47-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> gg, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y),</span>
<span id="cb47-3"><a href="example-model.html#cb47-3" tabindex="-1"></a>            <span class="at">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb47-4"><a href="example-model.html#cb47-4" tabindex="-1"></a>            <span class="at">alpha=</span><span class="fl">0.1</span>,</span>
<span id="cb47-5"><a href="example-model.html#cb47-5" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">0.000001</span>,</span>
<span id="cb47-6"><a href="example-model.html#cb47-6" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb47-7"><a href="example-model.html#cb47-7" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">ymax =</span> <span class="fl">3.50</span>, <span class="at">ymin =</span> <span class="fl">1.5</span>, <span class="at">xmax =</span> <span class="fl">0.83</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="fl">0.83</span>),</span>
<span id="cb47-8"><a href="example-model.html#cb47-8" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">linewidth=</span><span class="fl">0.5</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-9"><a href="example-model.html#cb47-9" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;RvR SL 2-2&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-10"><a href="example-model.html#cb47-10" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb47-11"><a href="example-model.html#cb47-11" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb47-12"><a href="example-model.html#cb47-12" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb47-13"><a href="example-model.html#cb47-13" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb47-14"><a href="example-model.html#cb47-14" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb47-15"><a href="example-model.html#cb47-15" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/plot%20the%20grid-1.png" width="672" style="display: block; margin: auto auto auto 0;" /></p>
</div>
<div id="apply-game-results-to-grid" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Apply Game Results to Grid<a href="example-model.html#apply-game-results-to-grid" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next I’ll use the GAM function to estimate the change in run expectancy based on pitch location. The resulting plot shows a smooth of optimal and sub-optimal pitch locations for these unique pitch parameters, with best locations appearing bright yellow and worst locations appearing dark blue. As you can see, pitches around the edges of the strike zone rate highest, particularly the low and outside corner where a slider moving away from hitter is generally viewed as an effective location. The further away pitches are from the edge of the strike zone, the less effective they become, as it becomes easier for hitters to recognize an easy take.</p>
<p>I would like to note that the a transformation has been made to the output average run expectancy value. The range of these values differ greatly depending on the count a pitch is thrown in. Pitches in 0-0 counts have considerably less extreme run expectancy values compared to 3-2 counts. In order to effectively evaluate the quality of a pitch location and keep the scale consistent regardless of the count a pitch is thrown in, I’ve normalized the output values to be take on a value ranging from 0 to 1.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="example-model.html#cb48-1" tabindex="-1"></a>  gf1 <span class="ot">&lt;-</span> <span class="fu">gam</span>(re <span class="sc">~</span> <span class="fu">s</span>(x, y), <span class="at">data =</span> hand_pitch_count_df, <span class="at">method =</span> <span class="st">&quot;REML&quot;</span>)</span>
<span id="cb48-2"><a href="example-model.html#cb48-2" tabindex="-1"></a>  </span>
<span id="cb48-3"><a href="example-model.html#cb48-3" tabindex="-1"></a>  gg<span class="sc">$</span>lp <span class="ot">&lt;-</span> <span class="fu">predict</span>(gf1, gg, <span class="at">type =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb48-4"><a href="example-model.html#cb48-4" tabindex="-1"></a>  </span>
<span id="cb48-5"><a href="example-model.html#cb48-5" tabindex="-1"></a>  gg <span class="ot">&lt;-</span> gg <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pq =</span> (lp <span class="sc">-</span> <span class="fu">min</span>(lp)) <span class="sc">/</span> (<span class="fu">max</span>(lp) <span class="sc">-</span> <span class="fu">min</span>(lp)))</span>
<span id="cb48-6"><a href="example-model.html#cb48-6" tabindex="-1"></a>  </span>
<span id="cb48-7"><a href="example-model.html#cb48-7" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb48-8"><a href="example-model.html#cb48-8" tabindex="-1"></a>    <span class="fu">geom_tile</span>(<span class="at">data =</span> gg, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">fill =</span> pq), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb48-9"><a href="example-model.html#cb48-9" tabindex="-1"></a>    <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">ymax =</span> <span class="fl">3.50</span>, <span class="at">ymin =</span> <span class="fl">1.50</span>, <span class="at">xmax =</span> <span class="fl">0.83</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="fl">0.83</span>),</span>
<span id="cb48-10"><a href="example-model.html#cb48-10" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">linewidth=</span><span class="fl">0.5</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-11"><a href="example-model.html#cb48-11" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb48-12"><a href="example-model.html#cb48-12" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;RvR SL 2-2&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-13"><a href="example-model.html#cb48-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb48-14"><a href="example-model.html#cb48-14" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb48-15"><a href="example-model.html#cb48-15" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb48-16"><a href="example-model.html#cb48-16" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb48-17"><a href="example-model.html#cb48-17" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb48-18"><a href="example-model.html#cb48-18" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/plot%20the%20grid%20with%20the%20lp%20fill-1.png" width="672" style="display: block; margin: auto auto auto 0;" /></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="example-model.html#cb49-1" tabindex="-1"></a><span class="fu">rm</span>(re_lookup,count_df, hand_count_df, hand_pitch_count_df, hand_pitch_count_df_lim, hand_pitch_df,</span>
<span id="cb49-2"><a href="example-model.html#cb49-2" tabindex="-1"></a>   aa, bb, cc, dd, ee, ff, g, gf, gf1, gfa, gfa99, gg)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="loading-cleaning-validating-transforming.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/drose1988/pitch_location_quality_project/edit/main/03-example_model.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/drose1988/pitch_location_quality_project/blob/main/03-example_model.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
